<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Stretch Rep + Hold Timer</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<style>
  html,body{
    margin:0;height:100%;
    background:#000;color:#fff;
    font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial;
  }
  body{display:flex;align-items:center;justify-content:center;}
  .card{
    width:min(900px,95vw);
    border:2px solid #fff;
    border-radius:20px;
    padding:24px;
    text-align:center;
  }
  h1{font-size:20px;margin:0 0 6px;}
  .stretch{font-size:24px;font-weight:700;margin-bottom:10px;}
  .big{
    font-size:clamp(72px,18vw,160px);
    font-weight:900;
    margin:10px 0;
  }
  .sub{font-size:18px;opacity:.8;}
  .row{
    display:flex;justify-content:space-around;
    margin-top:14px;font-size:16px;
  }
  .kbd{
    border:1px solid #fff;border-radius:8px;
    padding:2px 8px;font-weight:700;
  }
</style>
</head>
<body>

<div class="card">
  <h1>Stretch Routine</h1>
  <div class="stretch" id="stretchName"></div>

  <div class="big" id="main">0</div>
  <div class="sub" id="mode">Press SPACE for reps</div>

  <div class="row">
    <div>Reps: <b id="reps">0 / 10</b></div>
    <div>Hold: <b id="hold">10s</b></div>
    <div>Stretch: <b id="idx">1 / 10</b></div>
  </div>

  <div class="sub" style="margin-top:14px">
    SPACE = rep · N = next stretch · P = pause · R = reset
  </div>
</div>

<script>
const stretches = [
  "1. Shoulder Backbend",
  "2. Spine Backbend",
  "3. Rear Hand Clasp",
  "4. Lying Cross",
  "5. Wrist–Biceps Stretch",
  "6. One-Leg Pike",
  "7. Kneeling Lunge",
  "8. Pancake",
  "9. Butterfly",
  "10. Calf Stretch"
];

const holds = [10,20,30];

let stretchIdx = 0;
let holdIdx = 0;
let reps = 0;
let holding = false;
let paused = false;
let remaining = 0;
let timer = null;

const main = document.getElementById("main");
const mode = document.getElementById("mode");
const repsEl = document.getElementById("reps");
const holdEl = document.getElementById("hold");
const idxEl = document.getElementById("idx");
const stretchName = document.getElementById("stretchName");

function updateUI(){
  stretchName.textContent = stretches[stretchIdx];
  repsEl.textContent = `${reps} / 10`;
  holdEl.textContent = `${holds[holdIdx]}s`;
  idxEl.textContent = `${stretchIdx+1} / ${stretches.length}`;

  if(!holding){
    main.textContent = reps;
    mode.textContent = "Press SPACE for reps";
  }else{
    main.textContent = remaining;
    mode.textContent = paused ? "Paused" : "Holding";
  }
}

function startHold(){
  holding = true;
  remaining = holds[holdIdx];
  updateUI();
  timer = setInterval(()=>{
    if(paused) return;
    remaining--;
    updateUI();
    if(remaining <= 0){
      clearInterval(timer);
      holding = false;
      reps = 0;
      holdIdx = (holdIdx + 1) % holds.length;
      updateUI();
    }
  },1000);
}

function nextStretch(){
  stretchIdx = (stretchIdx + 1) % stretches.length;
  reps = 0;
  updateUI();
}

function resetAll(){
  clearInterval(timer);
  stretchIdx = 0;
  holdIdx = 0;
  reps = 0;
  holding = false;
  paused = false;
  updateUI();
}

window.addEventListener("keydown", e=>{
  if(e.code === "Space"){
    e.preventDefault();
    if(holding) return;
    reps++;
    if(reps >= 10){
      startHold();
    }
    updateUI();
  }
  if(e.code === "KeyN") nextStretch();
  if(e.code === "KeyP") paused = !paused;
  if(e.code === "KeyR") resetAll();
});

updateUI();
</script>

</body>
</html>
